(function(){var e,t,n;(function(r){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.slice(0,v.length-1).concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,t){return function(){var n=p.call(arguments,0);return typeof n[0]!="string"&&n.length===1&&n.push(null),s.apply(r,n.concat([e,t]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},i=function(e,t,n,i){var s,l,h,p,d,m=[],y=typeof n,E;i=i||e;if(y==="undefined"||y==="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(d=0;d<t.length;d+=1){p=o(t[d],i),l=p.f;if(l==="require")m[d]=u.require(e);else if(l==="exports")m[d]=u.exports(e),E=!0;else if(l==="module")s=m[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=n?n.apply(a[e],m):undefined;if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!E)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){if(typeof e=="string")return u[e]?u[e](t):w(o(e,t).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s},s.config=function(e){return s(e)},e._defined=a,n=function(e,t,n){if(typeof e!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}})(),n("lib/almond",function(){}),e.config({name:"lib/almond",findNestedDependencies:!0,wrap:!0,paths:{jquery:"lib/jquery",modernizr:"lib/modernizr",easing:"plugins/easing",parallax:"plugins/parallax",smoothScroll:"plugins/smoothscroll",helpers:"modules/helpers",metrics:"modules/common-metrics"},shim:{easing:{deps:["jquery"],exports:"easing"},parallax:{deps:["jquery"],exports:"parallax"},smoothScroll:{exports:"smoothScroll"}}}),n("config",function(){}),window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],r=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),r="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,r.width==="1px"}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),n("polyfill/matchMedia",function(){}),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,n=!1,r=0,i=[],s=function(t){clearTimeout(r),r=setTimeout(function(){for(var t=0,n=i.length;t<n;t++){var r=i[t].mql,s=i[t].listeners||[],o=e(r.media).matches;if(o!==r.matches){r.matches=o;for(var u=0,a=s.length;u<a;u++)s[u].call(window,r)}}},30)};window.matchMedia=function(r){var o=e(r),u=[],a=0;return o.addListener=function(e){if(!t)return;n||(n=!0,window.addEventListener("resize",s,!0)),a===0&&(a=i.push({mql:o,listeners:u})),u.push(e)},o.removeListener=function(e){for(var t=0,n=u.length;t<n;t++)u[t]===e&&u.splice(t,1)},o}}(),n("polyfill/matchMedia.addListener",function(){}),function(){var e=0,t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),s=window.setTimeout(function(){t(r+i)},i);return e=r+i,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),n("polyfill/requestAnimationFrame",function(){}),e(["polyfill/matchMedia","polyfill/matchMedia.addListener","polyfill/requestAnimationFrame"]),n("polyfill/polyfill",function(){}),n("jquery",[],function(){return jQuery}),n("plugins/throttle-debounce",["jquery"],function(e){function t(t,n,r,i){function u(){function f(){o=+(new Date),r.apply(e,a)}function l(){s=undefined}var e=this,u=+(new Date)-o,a=arguments;i&&!s&&f(),s&&clearTimeout(s),i===undefined&&u>t?f():n!==!0&&(s=setTimeout(i?l:f,i===undefined?t-u:t))}var s,o=0;return typeof n!="boolean"&&(i=r,r=n,n=undefined),e.guid&&(u.guid=r.guid=r.guid||e.guid++),u}function n(e,n,r){return r===undefined?t(e,n,!1):t(e,r,n!==!1)}return{throttle:t,debounce:n}}),n("helpers",["plugins/throttle-debounce"],function(e){var t=50,n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"},r=n[Modernizr.prefixed("transition")],i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"},s=i[Modernizr.prefixed("animation")],o={stripHash:function(e){return e.split("#")[0]},getLastDir:function(e){return e.match(/([^\/]*)\/*$/)[1]},stripTrailingSlash:function(e){return e.substr(-1)==="/"?e.substr(0,e.length-1):e},throttleEvent:function(t,n,r,i){i=i||polling_frequency,t.on(n,e.throttle(i,r))},debounceEvent:function(t,n,r,i){i=i||polling_frequency,t.on(n,e.debounce(i,r))},manageEvent:function(n){function o(){return r.ev_ns?r.event+"."+r.ev_ns:r.event}function u(){if(r.event==="resize"&&r.axis){var e=r.$window.outerHeight(),t=r.$window.outerWidth();switch(r.axis){case"x":s!==t&&(r.callback(),s=t);break;case"y":i!==e&&(r.callback(),i=e);break;default:if(s!==t||i!==e)r.callback(),s=t,i=e}}else r.callback()}var r={$window:$(window),event:"resize",callback:null,freq:t,type:"throttle",ev_ns:null};n&&$.extend(r,n);var i=r.$window.outerHeight(),s=r.$window.outerWidth();switch(r.type){case"throttle":r.$window.on(o(),e.throttle(r.freq,u));break;case"debounce":r.$window.on(o(),e.debounce(r.freq,u))}},transitionCheck:function(e,t){Modernizr.csstransitions?e.on(r,function(n){e.is(n.target)&&(t(),$(this).off(r)),n.stopPropagation()}):t()},animationCheck:function(e,t){Modernizr.cssanimations?e.on(s,function(n){e.is(n.target)&&(t(),$(this).off(s)),n.stopPropagation()}):t()}};return o}),n("metrics",["helpers","plugins/throttle-debounce"],function(e,t){function s(){if(i.topbar.length){var e=i.topbar.height(),t=i.topbar.outerHeight();if(t>150||e>150)return;e!==n.topbar_height&&(n.topbar_height=e),t!==n.topbar_outer_height&&(n.topbar_outer_height=t)}}function o(){s(),i.topbar.length&&(n.topbar_clearance=parseInt(i.topbar.css("padding-top"),10)),i.hero.length&&(n.hero_height=i.hero.outerHeight()),i.hero_placeholder.length&&(n.hero_placeholder_height=i.hero_placeholder.outerHeight()),n.window_height=$(window).outerHeight(),i.project.length&&(n.project_offset_top=i.project.offset().top,n.project_height=i.project.outerHeight()),n.window_width=$(window).width(),n.window_height=$(window).height()}function u(){n.scroll_pos=$(window).scrollTop()}function a(){e.manageEvent({event:"resize",callback:function(){o()}}),e.manageEvent({event:"scroll",callback:function(){u()}})}function f(){$("html").hasClass("ie9")&&(n.ua.ie9=!0),/iP(hone|ad)/.test(window.navigator.userAgent)&&(n.ua.ios=/iP(hone|ad)/.test(window.navigator.userAgent))}function l(){o()}function c(e,t){n[e]=t}function h(){o(),u(),a(),f()}/iP(hone|ad)/.test(window.navigator.userAgent)&&document.body.addEventListener("touchstart",function(){},!1);var n={},r="page_metrics",i={window:$(window),body:$("body"),document:$(document),topbar:$(".js__topbar"),hero:$(".js__hero"),hero_unit:$(".js__hero__unit"),hero_placeholder:$(".js__hero__placeholder"),project:$(".js__project"),work:$(".js__work")};return n.project_container="#project",n.screen_width={min_xs:"(min-width: 480px)",min_sm:"(min-width: 768px)",min_md:"(min-width: 1000px)",min_lg:"(min-width: 1200px)",min_xl:"(min-width: 1400px)",min_max:"(min-width: 1635px)",max_xs:"(min-width: 479px)",max_sm:"(min-width: 767px)",max_md:"(min-width: 999px)",max_lg:"(min-width: 1199px)",max_xl:"(min-width: 1399px)",max_max:"(min-width: 1634px)"},n.screen_width.format_shift=n.screen_width.min_lg,n.nav_break_mql=window.matchMedia(n.screen_width.min_lg),n.ua={},h(),{forceUpdate:l,cache:n,addMetric:c,$c:i}}),n("lib/fixActiveState",["metrics"],function(e){$(function(){e.cache.ua.ios&&document.body.addEventListener("touchstart",function(){},!1)})}),n("modernizr",[],function(){return Modernizr}),function(){"use strict";function e(t,n){function s(e,t){return function(){return e.apply(t,arguments)}}var i;n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=t,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700;if(e.notNeeded(t))return;var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],u=this;for(var a=0,f=o.length;a<f;a++)u[o[a]]=s(u[o[a]],u);r&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;e==="click"?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;e==="click"?i.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(t,e,n,r)}),typeof t.onclick=="function"&&(i=t.onclick,t.addEventListener("click",function(e){i(e)},!1),t.onclick=null)}var t=navigator.userAgent.indexOf("Windows Phone")>=0,r=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,s=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=i&&/OS [6-7]_\d/.test(navigator.userAgent),u=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&e.type==="file"||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!r;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return r&&e.tagName.toLowerCase()==="select"?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"&&e.type!=="month"?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0];if(i){r=window.getSelection();if(r.rangeCount&&!r.isCollapsed)return!0;if(!s){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){if(!this.trackingClick)return!0;if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))this.trackingClick=!1,this.targetElement=null;return!0},e.prototype.findControl=function(e){return e.control!==undefined?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,n,u,a,f,l=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(f=e.changedTouches[0],l=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),u=l.tagName.toLowerCase();if(u==="label"){t=this.findControl(l);if(t){this.focus(l);if(r)return!1;l=t}}else if(this.needsFocus(l)){if(e.timeStamp-n>100||i&&window.top!==window&&u==="input")return this.targetElement=null,!1;this.focus(l),this.sendClick(l,e);if(!i||u!=="select")this.targetElement=null,e.preventDefault();return!1}if(i&&!s){a=l.fastClickScrollParent;if(a&&a.fastClickLastScrollTop!==a.scrollTop)return!0}return this.needsClick(l)||(e.preventDefault(),this.sendClick(l,e)),!1},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):e.target.type==="submit"&&e.detail===0?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;r&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,n,i,s;if(typeof window.ontouchstart=="undefined")return!0;n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(!r)return!0;t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(u){i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(i[1]>=10&&i[2]>=3){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}}}if(e.style.msTouchAction==="none"||e.style.touchAction==="manipulation")return!0;s=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(s>=27){t=document.querySelector("meta[name=viewport]");if(t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth))return!0}return e.style.touchAction==="none"||e.style.touchAction==="manipulation"?!0:!1},e.attach=function(t,n){return new e(t,n)},typeof n=="function"&&typeof n.amd=="object"&&n.amd?n("lib/fastclick",[],function(){return e}):typeof module!="undefined"&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),function(e,t,r){"use strict";function K(n){a=t.documentElement,f=t.body,X(),Et=this,n=n||{},Lt=n.constants||{};if(n.easing)for(var r in n.easing)J[r]=n.easing[r];Ut=n.edgeStrategy||"set",Tt={beforerender:n.beforerender,render:n.render,keyframe:n.keyframe},Nt=n.forceHeight!==!1,Nt&&(kt=n.scale||1),At=n.mobileDeceleration||T,jt=n.smoothScrolling!==!1,Ft=n.smoothScrollingDuration||C,It={targetTop:Et.getScrollTop()},zt=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})(),zt?(xt=t.getElementById(n.skrollrBody||N),xt&&ut(),Q(),mt(a,[y,E],[b])):mt(a,[y,w],[b]),Et.refresh(),at(e,"resize orientationchange",function(){var e=a.clientWidth,t=a.clientHeight;if(t!==Pt||e!==Dt)Pt=t,Dt=e,Ht=!0});var i=V();return function s(){Z(),$t=i(s)}(),Et}var i={get:function(){return Et},init:function(e){return Et||new K(e)},VERSION:"0.6.29"},s=Object.prototype.hasOwnProperty,o=e.Math,u=e.getComputedStyle,a,f,l="touchstart",c="touchmove",h="touchcancel",p="touchend",d="skrollable",v=d+"-before",m=d+"-between",g=d+"-after",y="skrollr",b="no-"+y,w=y+"-desktop",E=y+"-mobile",S="linear",x=1e3,T=.004,N="skrollr-body",C=200,k="start",L="end",A="center",O="bottom",M="___skrollable_id",_=/^(?:input|textarea|button|select)$/i,D=/^\s+|\s+$/g,P=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,H=/\s*(@?[\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,B=/^(@?[a-z\-]+)\[(\w+)\]$/,j=/-([a-z0-9_])/g,F=function(e,t){return t.toUpperCase()},I=/[\-+]?[\d]*\.?[\d]+/g,q=/\{\?\}/g,R=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,U=/[a-z\-]+-gradient/g,z="",W="",X=function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(!u)return;var t=u(f,null);for(var n in t){z=n.match(e)||+n==n&&t[n].match(e);if(z)break}if(!z){z=W="";return}z=z[0],z.slice(0,1)==="-"?(W=z,z={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[z]):W="-"+z.toLowerCase()+"-"},V=function(){var t=e.requestAnimationFrame||e[z.toLowerCase()+"RequestAnimationFrame"],n=bt();if(zt||!t)t=function(t){var r=bt()-n,i=o.max(0,1e3/60-r);return e.setTimeout(function(){n=bt(),t()},i)};return t},$=function(){var t=e.cancelAnimationFrame||e[z.toLowerCase()+"CancelAnimationFrame"];if(zt||!t)t=function(t){return e.clearTimeout(t)};return t},J={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-o.cos(e*o.PI)/2+.5},sqrt:function(e){return o.sqrt(e)},outCubic:function(e){return o.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-o.abs(3*o.cos(e*t*1.028)/t)}};K.prototype.refresh=function(e){var n,i,s=!1;e===r?(s=!0,St=[],Rt=0,e=t.getElementsByTagName("*")):e.length===r&&(e=[e]),n=0,i=e.length;for(;n<i;n++){var o=e[n],u=o,a=[],f=jt,l=Ut,c=!1;s&&M in o&&delete o[M];if(!o.attributes)continue;var h=0,p=o.attributes.length;for(;h<p;h++){var v=o.attributes[h];if(v.name==="data-anchor-target"){u=t.querySelector(v.value);if(u===null)throw'Unable to find anchor target "'+v.value+'"';continue}if(v.name==="data-smooth-scrolling"){f=v.value!=="off";continue}if(v.name==="data-edge-strategy"){l=v.value;continue}if(v.name==="data-emit-events"){c=!0;continue}var m=v.name.match(P);if(m===null)continue;var g={props:v.value,element:o,eventType:v.name.replace(j,F)};a.push(g);var y=m[1];y&&(g.constant=y.substr(1));var b=m[2];/p$/.test(b)?(g.isPercentage=!0,g.offset=(b.slice(0,-1)|0)/100):g.offset=b|0;var w=m[3],E=m[4]||w;!w||w===k||w===L?(g.mode="absolute",w===L?g.isEnd=!0:g.isPercentage||(g.offset=g.offset*kt)):(g.mode="relative",g.anchors=[w,E])}if(!a.length)continue;var S,x,T;!s&&M in o?(T=o[M],S=St[T].styleAttr,x=St[T].classAttr):(T=o[M]=Rt++,S=o.style.cssText,x=vt(o)),St[T]={element:o,styleAttr:S,classAttr:x,anchorTarget:u,keyFrames:a,smoothScrolling:f,edgeStrategy:l,emitEvents:c,lastFrameIndex:-1},mt(o,[d],[])}ht(),n=0,i=e.length;for(;n<i;n++){var N=St[e[n][M]];if(N===r)continue;et(N),nt(N)}return Et},K.prototype.relativeToAbsolute=function(e,t,n){var r=a.clientHeight,i=e.getBoundingClientRect(),s=i.top,o=i.bottom-i.top;return t===O?s-=r:t===A&&(s-=r/2),n===O?s+=o:n===A&&(s+=o/2),s+=Et.getScrollTop(),s+.5|0},K.prototype.animateTo=function(e,t){t=t||{};var n=bt(),i=Et.getScrollTop();return Bt={startTop:i,topDiff:e-i,targetTop:e,duration:t.duration||x,startTime:n,endTime:n+(t.duration||x),easing:J[t.easing||S],done:t.done},Bt.topDiff||(Bt.done&&Bt.done.call(Et,!1),Bt=r),Et},K.prototype.stopAnimateTo=function(){Bt&&Bt.done&&Bt.done.call(Et,!0),Bt=r},K.prototype.isAnimatingTo=function(){return!!Bt},K.prototype.isMobile=function(){return zt},K.prototype.setScrollTop=function(t,n){return qt=n===!0,zt?Wt=o.min(o.max(t,0),Ct):e.scrollTo(0,t),Et},K.prototype.getScrollTop=function(){return zt?Wt:e.pageYOffset||a.scrollTop||f.scrollTop||0},K.prototype.getMaxScrollTop=function(){return Ct},K.prototype.on=function(e,t){return Tt[e]=t,Et},K.prototype.off=function(e){return delete Tt[e],Et},K.prototype.destroy=function(){var e=$();e($t),lt(),mt(a,[b],[y,w,E]);var t=0,n=St.length;for(;t<n;t++)ot(St[t].element);a.style.overflow=f.style.overflow="",a.style.height=f.style.height="",xt&&i.setStyle(xt,"transform","none"),Et=r,xt=r,Tt=r,Nt=r,Ct=0,kt=1,Lt=r,At=r,Ot="down",Mt=-1,Dt=0,Pt=0,Ht=!1,Bt=r,jt=r,Ft=r,It=r,qt=r,Rt=0,Ut=r,zt=!1,Wt=0,Xt=r};var Q=function(){var n,i,s,u,d,v,m,g,y,b,w,E;at(a,[l,c,h,p].join(" "),function(e){var a=e.changedTouches[0];u=e.target;while(u.nodeType===3)u=u.parentNode;d=a.clientY,v=a.clientX,b=e.timeStamp,_.test(u.tagName)||e.preventDefault();switch(e.type){case l:n&&n.blur(),Et.stopAnimateTo(),n=u,i=m=d,s=v,y=b;break;case c:_.test(u.tagName)&&t.activeElement!==u&&e.preventDefault(),g=d-m,E=b-w,Et.setScrollTop(Wt-g,!0),m=d,w=b;break;default:case h:case p:var f=i-d,S=s-v,x=S*S+f*f;if(x<49){if(!_.test(n.tagName)){n.focus();var T=t.createEvent("MouseEvents");T.initMouseEvent("click",!0,!0,e.view,1,a.screenX,a.screenY,a.clientX,a.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),n.dispatchEvent(T)}return}n=r;var N=g/E;N=o.max(o.min(N,3),-3);var C=o.abs(N/At),k=N*C+.5*At*C*C,L=Et.getScrollTop()-k,A=0;L>Ct?(A=(Ct-L)/k,L=Ct):L<0&&(A=-L/k,L=0),C*=1-A,Et.animateTo(L+.5|0,{easing:"outCubic",duration:C})}}),e.scrollTo(0,0),a.style.overflow=f.style.overflow="hidden"},G=function(){var e=a.clientHeight,t=pt(),n,r,i,s,u,f,l,c,h,p,d;c=0,h=St.length;for(;c<h;c++){n=St[c],r=n.element,i=n.anchorTarget,s=n.keyFrames,u=0,f=s.length;for(;u<f;u++)l=s[u],p=l.offset,d=t[l.constant]||0,l.frame=p,l.isPercentage&&(p*=e,l.frame=p),l.mode==="relative"&&(ot(r),l.frame=Et.relativeToAbsolute(i,l.anchors[0],l.anchors[1])-p,ot(r,!0)),l.frame+=d,Nt&&!l.isEnd&&l.frame>Ct&&(Ct=l.frame)}Ct=o.max(Ct,dt()),c=0,h=St.length;for(;c<h;c++){n=St[c],s=n.keyFrames,u=0,f=s.length;for(;u<f;u++)l=s[u],d=t[l.constant]||0,l.isEnd&&(l.frame=Ct-l.offset+d);n.keyFrames.sort(wt)}},Y=function(e,t){var n=0,r=St.length;for(;n<r;n++){var o=St[n],u=o.element,a=o.smoothScrolling?e:t,f=o.keyFrames,l=f.length,c=f[0],h=f[f.length-1],p=a<c.frame,y=a>h.frame,b=p?c:h,w=o.emitEvents,E=o.lastFrameIndex,S,x;if(p||y){if(p&&o.edge===-1||y&&o.edge===1)continue;p?(mt(u,[v],[g,m]),w&&E>-1&&(ct(u,c.eventType,Ot),o.lastFrameIndex=-1)):(mt(u,[g],[v,m]),w&&E<l&&(ct(u,h.eventType,Ot),o.lastFrameIndex=l)),o.edge=p?-1:1;switch(o.edgeStrategy){case"reset":ot(u);continue;case"ease":a=b.frame;break;default:case"set":var T=b.props;for(S in T)s.call(T,S)&&(x=st(T[S].value),S.indexOf("@")===0?u.setAttribute(S.substr(1),x):i.setStyle(u,S,x));continue}}else o.edge!==0&&(mt(u,[d,m],[v,g]),o.edge=0);var N=0;for(;N<l-1;N++)if(a>=f[N].frame&&a<=f[N+1].frame){var C=f[N],k=f[N+1];for(S in C.props)if(s.call(C.props,S)){var L=(a-C.frame)/(k.frame-C.frame);L=C.props[S].easing(L),x=it(C.props[S].value,k.props[S].value,L),x=st(x),S.indexOf("@")===0?u.setAttribute(S.substr(1),x):i.setStyle(u,S,x)}w&&E!==N&&(Ot==="down"?ct(u,C.eventType,Ot):ct(u,k.eventType,Ot),o.lastFrameIndex=N);break}}},Z=function(){Ht&&(Ht=!1,ht());var e=Et.getScrollTop(),t,n=bt(),s;if(Bt)n>=Bt.endTime?(e=Bt.targetTop,t=Bt.done,Bt=r):(s=Bt.easing((n-Bt.startTime)/Bt.duration),e=Bt.startTop+s*Bt.topDiff|0),Et.setScrollTop(e,!0);else if(!qt){var o=It.targetTop-e;o&&(It={startTop:Mt,topDiff:e-Mt,targetTop:e,startTime:_t,endTime:_t+Ft}),n<=It.endTime&&(s=J.sqrt((n-It.startTime)/Ft),e=It.startTop+s*It.topDiff|0)}zt&&xt&&i.setStyle(xt,"transform","translate(0, "+ -Wt+"px) "+Xt);if(qt||Mt!==e){Ot=e>Mt?"down":e<Mt?"up":Ot,qt=!1;var u={curTop:e,lastTop:Mt,maxTop:Ct,direction:Ot},a=Tt.beforerender&&Tt.beforerender.call(Et,u);a!==!1&&(Y(e,Et.getScrollTop()),Mt=e,Tt.render&&Tt.render.call(Et,u)),t&&t.call(Et,!1)}_t=n},et=function(e){var t=0,n=e.keyFrames.length;for(;t<n;t++){var r=e.keyFrames[t],i,s,o,u={},a;while((a=H.exec(r.props))!==null)o=a[1],s=a[2],i=o.match(B),i!==null?(o=i[1],i=i[2]):i=S,s=s.indexOf("!")?tt(s):[s.slice(1)],u[o]={value:s,easing:J[i]};r.props=u}},tt=function(e){var t=[];return R.lastIndex=0,e=e.replace(R,function(e){return e.replace(I,function(e){return e/255*100+"%"})}),W&&(U.lastIndex=0,e=e.replace(U,function(e){return W+e})),e=e.replace(I,function(e){return t.push(+e),"{?}"}),t.unshift(e),t},nt=function(e){var t={},n,r;n=0,r=e.keyFrames.length;for(;n<r;n++)rt(e.keyFrames[n],t);t={},n=e.keyFrames.length-1;for(;n>=0;n--)rt(e.keyFrames[n],t)},rt=function(e,t){var n;for(n in t)s.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},it=function(e,t,n){var r,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var s=[e[0]];r=1;for(;r<i;r++)s[r]=e[r]+(t[r]-e[r])*n;return s},st=function(e){var t=1;return q.lastIndex=0,e[0].replace(q,function(){return e[t++]})},ot=function(e,t){e=[].concat(e);var n,r,i=0,s=e.length;for(;i<s;i++){r=e[i],n=St[r[M]];if(!n)continue;t?(r.style.cssText=n.dirtyStyleAttr,mt(r,n.dirtyClassAttr)):(n.dirtyStyleAttr=r.style.cssText,n.dirtyClassAttr=vt(r),r.style.cssText=n.styleAttr,mt(r,n.classAttr))}},ut=function(){Xt="translateZ(0)",i.setStyle(xt,"transform",Xt);var e=u(xt),t=e.getPropertyValue("transform"),n=e.getPropertyValue(W+"transform"),r=t&&t!=="none"||n&&n!=="none";r||(Xt="")};i.setStyle=function(e,t,n){var r=e.style;t=t.replace(j,F).replace("-","");if(t==="zIndex")isNaN(n)?r[t]=n:r[t]=""+(n|0);else if(t==="float")r.styleFloat=r.cssFloat=n;else try{z&&(r[z+t.slice(0,1).toUpperCase()+t.slice(1)]=n),r[t]=n}catch(i){}};var at=i.addEvent=function(t,n,r){var i=function(t){return t=t||e.event,t.target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1,t.defaultPrevented=!0}),r.call(this,t)};n=n.split(" ");var s,o=0,u=n.length;for(;o<u;o++)s=n[o],t.addEventListener?t.addEventListener(s,r,!1):t.attachEvent("on"+s,i),Vt.push({element:t,name:s,listener:r})},ft=i.removeEvent=function(e,t,n){t=t.split(" ");var r=0,i=t.length;for(;r<i;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):e.detachEvent("on"+t[r],n)},lt=function(){var e,t=0,n=Vt.length;for(;t<n;t++)e=Vt[t],ft(e.element,e.name,e.listener);Vt=[]},ct=function(e,t,n){Tt.keyframe&&Tt.keyframe.call(Et,e,t,n)},ht=function(){var e=Et.getScrollTop();Ct=0,Nt&&!zt&&(f.style.height=""),G(),Nt&&!zt&&(f.style.height=Ct+a.clientHeight+"px"),zt?Et.setScrollTop(o.min(Et.getScrollTop(),Ct)):Et.setScrollTop(e,!0),qt=!0},pt=function(){var e=a.clientHeight,t={},n,r;for(n in Lt)r=Lt[n],typeof r=="function"?r=r.call(Et):/p$/.test(r)&&(r=r.slice(0,-1)/100*e),t[n]=r;return t},dt=function(){var e=0,t;return xt&&(e=o.max(xt.offsetHeight,xt.scrollHeight)),t=o.max(e,f.scrollHeight,f.offsetHeight,a.scrollHeight,a.offsetHeight,a.clientHeight),t-a.clientHeight},vt=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},mt=function(t,n,i){var s="className";e.SVGElement&&t instanceof e.SVGElement&&(t=t[s],s="baseVal");if(i===r){t[s]=n;return}var o=t[s],u=0,a=i.length;for(;u<a;u++)o=yt(o).replace(yt(i[u])," ");o=gt(o);var f=0,l=n.length;for(;f<l;f++)yt(o).indexOf(yt(n[f]))===-1&&(o+=" "+n[f]);t[s]=gt(o)},gt=function(e){return e.replace(D,"")},yt=function(e){return" "+e+" "},bt=Date.now||function(){return+(new Date)},wt=function(e,t){return e.frame-t.frame},Et,St,xt,Tt,Nt,Ct=0,kt=1,Lt,At,Ot="down",Mt=-1,_t=bt(),Dt=0,Pt=0,Ht=!1,Bt,jt,Ft,It,qt,Rt=0,Ut,zt=!1,Wt=0,Xt,Vt=[],$t;typeof n=="function"&&n.amd?n("plugins/skrollr",[],function(){return i}):typeof module!="undefined"&&module.exports?module.exports=i:e.skrollr=i}(window,document),n("modules/hero-affix",["helpers","metrics","plugins/skrollr"],function(e,t,n){function a(){!n.get()&&Modernizr.csstransforms3d&&!Modernizr.touchevents&&n.init({forceHeight:!1,mobileCheck:function(){return!1}})}function f(){n.get()&&(n.get().destroy(),$(".skrollable").removeAttr("style"))}function l(){s&&!Modernizr.touchevents?(t.$c.body.addClass(i.hero_fixed).removeClass(i.hero_static).addClass(i.nav_fixed),o=!0):(t.$c.body.addClass(i.hero_static).removeClass(i.hero_fixed).removeClass(i.nav_fixed),o=!1)}function c(){s&&!u?(a(),u=!0):!s&&u&&(f(),u=!1)}function h(){var e=t.cache.window_height,n=r.critical_content.outerHeight();e>n?s=!0:s=!1,Modernizr.csstransforms3d&&!Modernizr.touchevents&&c(),l()}function p(){var e=t.cache.hero_height,n=t.cache.hero_placeholder_height;n!==e&&r.placeholder.height(e)}function d(){var e=t.cache.hero_height;r.placeholder.height(t.cache.hero_height)}function v(){n.get().refresh()}function m(){var e=0,t=50,n=$("html");e=setInterval(function(){n.hasClass("wf-active")&&(p(),clearInterval(e))},t)}function g(){e.manageEvent({freq:10,callback:function(){p(),h(),n.get()&&v()}})}function y(){return{has_space:s,is_fixed:o}}function b(){d(),m(),g(),h()}var r={hero:$(".js__hero"),unit:$(".js__hero__unit"),placeholder:$(".js__hero__placeholder"),critical_content:$(".js__hero__intro"),topbar:$(".js__topbar")},i={hero_fixed:"s__hero-fixed",hero_static:"s__hero-static",nav_fixed:"s__nav-fixed"},s,o,u;return b(),{status:y}}),n("modules/scroll-visibility",["helpers","metrics","modules/nav-toggle"],function(e,t,n){function c(){f={full:t.cache.window_height,half:t.cache.window_height/2}}function h(e){e.addClass(o.visible).removeClass(o.hidden)}function p(e){e.addClass(o.hidden).removeClass(o.visible)}function d(e){var t=$(e.data("scroll-visibility-target"));return t.length?t:e}function v(e){var t=e.data("scroll-visibility-direction");t&&e.data("direction",t)}function m(e,n){var r=e.data("scroll-visibility"),i=f[r],s=e.offset().top,o=e.outerHeight(),u=s-i,a=o+s-t.cache.topbar_outer_height;t.cache.scroll_pos>u&&t.cache.scroll_pos<a||t.cache.scroll_pos>u&&e.data("direction")!=="both"?h(n):(e.data("direction")==="both"&&t.cache.scroll_pos>a||t.cache.scroll_pos<u)&&p(n)}function g(e){if(l===!0)return;var t=d(e);if(Modernizr.touchevents){h(t);return}m(e,t)}function y(){l=!0,$(i).each(function(){p($(this))})}function b(){l=!1,u.scroll_targets.each(function(){g($(this))})}function w(t){e.manageEvent({event:"resize",ev_ns:s,callback:function(){c(),g(t)}}),e.manageEvent({event:"scroll",ev_ns:s,callback:function(){g(t)}})}function E(){u.scroll_targets=$(r),i=[],u.scroll_targets.each(function(){var e=$(this),t=$(e.data("scroll-visibility-target"));t.length?i.push(t):i.push(e)})}function S(e){v(e),c(),g(e),w(e)}function x(){return l}function T(){E(),Modernizr.touchevents||u.scroll_targets.each(function(){S($(this))})}function N(){t.$c.window.off("."+s),T()}function C(){T()}var r="[data-scroll-visibility]",i=[],s="scroll_visibility",o={visible:"s__section-visible",hidden:"s__section-hidden"},u={html:$("html"),scroll_targets:$(r)},a={},f={},l;return C(),{init:C,hide:y,show:b,refresh:N,forceHidden:x}}),n("modules/nav-toggle",["helpers","metrics","modules/hero-affix","modules/scroll-visibility"],function(e,t,n,r){function v(){d?s.topbar.css({transform:"translate3D(0,-100%,0)"}):s.topbar.css({opacity:"0"})}function m(){d?s.topbar.css({transform:"translate3D(0,0,0)"}):s.topbar.css({opacity:"1"})}function g(){s.navicon.css({display:"none"})}function y(){s.navicon.css({display:"block"})}function b(){if(p||f)return;var t=0;p=!0,v(),e.transitionCheck(s.topbar,function(){g(),m(),s.topbar.removeClass(i.nav_closed).addClass(i.nav_open).addClass(i.overlay_visible),e.transitionCheck(s.topbar__overlay,function(){s.topbar.addClass(i.nav_visible),e.transitionCheck(s.main_nav__item,function(){t+=1,t===s.main_nav__item.length&&(s.topbar.addClass(i.nav_complete),r.hide(),f=!0,p=!1,t=0)})})})}function w(){if(p||!f)return;p=!0,s.topbar.removeClass(i.nav_complete).removeClass(i.nav_visible),e.transitionCheck(s.main_nav__item,function(){s.topbar.removeClass(i.overlay_visible),r.show(),e.transitionCheck(s.topbar__overlay,function(){y(),s.topbar.css({transition:"none"}),v(),s.topbar.removeClass(i.nav_open).addClass(i.nav_closed),setTimeout(function(){m(),s.topbar.css({transition:"",transform:""}),p=!1,f=!1},0)})})}function E(){f?w():b()}function S(){s.topbar.addClass(i.bar_format).removeClass(i.hero_format),d=!0}function x(){s.topbar.addClass(i.hero_format).removeClass(i.bar_format),d=!1}function T(){var e=t.cache.scroll_pos,r=n.status().is_fixed;if(r){var i=t.cache.hero_height-t.cache.topbar_outer_height-t.cache.topbar_clearance;e>i&&!d?S():e<=i&&d&&x()}else e>t.cache.topbar_clearance&&!d?S():e<=t.cache.topbar_clearance&&d&&x()}function N(){s.topbar.addClass(i.project_open).removeClass(i.project_closed),l=!0}function C(){s.topbar.addClass(i.project_closed).removeClass(i.project_open),l=!1}function k(){var e=t.cache.scroll_pos,n=t.cache.project_offset_top-t.cache.topbar_height-10,r=n+t.cache.project_height;d&&!t.cache.doc_scrolling&&e>n&&e<r?N():C()}function L(e){e.matches&&r.forceHidden&&f?r.show():!e.matches&&f&&r.hide()}function A(){return p}function O(){return l}function M(){s.topbar__menu.on("click"+u,function(){E()}),s.close__overlay.on("click"+u,function(){E()}),c||(e.manageEvent({event:"scroll",callback:function(){T(),k()}}),e.manageEvent({callback:function(){T(),k()}}))}function _(){k(),T()}function D(){s.topbar.hasClass(a)&&(c=!0),M(),c||(T(),k()),L(o),o.addListener(function(e){L(e)})}var i={nav_closed:"s__nav-closed",nav_open:"s__nav-open",overlay_visible:"s__overlay-visible",nav_visible:"s__nav-visible",nav_complete:"s__nav-complete",bar_format:"s__nav-bar",hero_format:"s__nav-hero",project_open:"s__project-open",project_closed:"s__project-closed"},s={topbar:$(".js__topbar"),topbar__menu:$(".js__topbar__menu"),topbar__overlay:$(".js__topbar__overlay"),main_nav__item:$(".js__main-nav__item"),navicon:$(".js__topbar__navicon"),close__overlay:$(".js__topbar__close-overlay")},o=t.cache.nav_break_mql,u=".nav_toggle",a="js__topbar--static",f,l,c,h=50,p,d;return Modernizr.csstransitions||(h=0),D(),{showBar:m,hideBar:v,closeMenu:w,openMenu:b,isAnimating:A,projectNavOpen:O,refresh:_}}),n("modules/doc-loading",["helpers","metrics","modules/scroll-visibility"],function(e,t,n){function a(){return s}function f(n){e.transitionCheck(i.loading_spinner,function(){n&&n(),t.$c.body.removeClass(r.doc_loaded)}),t.$c.body.addClass(r.doc_show_loading)}function l(n){e.transitionCheck(i.loading_spinner,function(){n&&n(),t.$c.body.addClass(r.doc_loaded)}),t.$c.body.removeClass(r.doc_show_loading)}function c(n,u){if(s)return;var a=0;o=n,s=!0,n==="next"?t.$c.body.addClass(r.doc_slide_next):n==="prev"&&t.$c.body.addClass(r.doc_slide_prev),t.$c.body.removeClass(r.doc_static),e.transitionCheck(i.doc_modules,function(){a+=1,a===i.doc_modules.length&&(n==="next"?t.$c.body.addClass(r.doc_wait_right).removeClass(r.doc_slide_next):n==="prev"&&t.$c.body.addClass(r.doc_wait_left).removeClass(r.doc_slide_prev),f(function(){u(),a=0}))})}function h(n){setTimeout(function(){l(function(){n();var o=0;e.transitionCheck(i.doc_modules,function(){o+=1,o===i.doc_modules.length&&(t.$c.body.addClass(r.doc_static),s=!1)}),t.$c.body.removeClass(r.doc_wait_right).removeClass(r.doc_wait_left)})},u)}var r={doc_initialized:"s__doc-initialized",doc_loaded:"s__doc-loaded",doc_static:"s__doc-static",doc_show_loading:"s__doc-show-loading",doc_slide_next:"s__doc-slide-next",doc_slide_prev:"s__doc-slide-prev",doc_wait_right:"s__doc-wait-right",doc_wait_left:"s__doc-wait-left"},i={loading_spinner:$(".js__loading__spinner"),doc_modules:$(".js__hero, .js__work, .js__project, .js__about, .js__skills, .js__footer")},s,o,u=1e3;return $(function(){n.hide(),setTimeout(function(){n.show(),l(function(){t.$c.body.addClass(r.doc_initialized)})},u),t.$c.body.addClass(r.doc_static)}),{state:r,cache:i,showLoader:f,hideLoader:l,slideIn:c,slideOut:h,inProgress:a}}),function(e,t,n,r){"use strict";function u(t,n){this.element=t,this.$context=e(t).data("api",this),this.$layers=this.$context.find(".layer");var r={calibrateX:this.$context.data("calibrate-x")||null,calibrateY:this.$context.data("calibrate-y")||null,invertX:this.$context.data("invert-x")||null,invertY:this.$context.data("invert-y")||null,limitX:parseFloat(this.$context.data("limit-x"))||null,limitY:parseFloat(this.$context.data("limit-y"))||null,scalarX:parseFloat(this.$context.data("scalar-x"))||null,scalarY:parseFloat(this.$context.data("scalar-y"))||null,frictionX:parseFloat(this.$context.data("friction-x"))||null,frictionY:parseFloat(this.$context.data("friction-y"))||null,originX:parseFloat(this.$context.data("origin-x"))||null,originY:parseFloat(this.$context.data("origin-y"))||null};for(var i in r)r[i]===null&&delete r[i];e.extend(this,o,n,r),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depths=[],this.raf=null,this.bounds=null,this.ex=0,this.ey=0,this.ew=0,this.eh=0,this.ecx=0,this.ecy=0,this.erx=0,this.ery=0,this.cx=0,this.cy=0,this.ix=0,this.iy=0,this.mx=0,this.my=0,this.vx=0,this.vy=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.initialise()}var i="parallax",s=30,o={relativeInput:!1,clipRelativeInput:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5};u.prototype.transformSupport=function(e){var i=n.createElement("div"),s=!1,o=null,u=!1,a=null,f=null;for(var l=0,c=this.vendors.length;l<c;l++){this.vendors[l]!==null?(a=this.vendors[l][0]+"transform",f=this.vendors[l][1]+"Transform"):(a="transform",f="transform");if(i.style[f]!==r){s=!0;break}}switch(e){case"2D":u=s;break;case"3D":if(s){var h=n.body||n.createElement("body"),p=n.documentElement,d=p.style.overflow;n.body||(p.style.overflow="hidden",p.appendChild(h),h.style.overflow="hidden",h.style.background=""),h.appendChild(i),i.style[f]="translate3d(1px,1px,1px) rotate(.01deg)",o=t.getComputedStyle(i).getPropertyValue(a),u=o!==r&&o.length>0&&o!=="none",p.style.overflow=d,h.removeChild(i)}}return u},u.prototype.ww=null,u.prototype.wh=null,u.prototype.wcx=null,u.prototype.wcy=null,u.prototype.wrx=null,u.prototype.wry=null,u.prototype.portrait=null,u.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),u.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],u.prototype.motionSupport=!!t.DeviceMotionEvent,u.prototype.orientationSupport=!!t.DeviceOrientationEvent,u.prototype.orientationStatus=0,u.prototype.transform2DSupport=u.prototype.transformSupport("2D"),u.prototype.transform3DSupport=u.prototype.transformSupport("3D"),u.prototype.propertyCache={},u.prototype.initialise=function(){this.$context.css("position")==="static"&&this.$context.css({position:"relative"}),this.accelerate(this.$context),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)},u.prototype.updateLayers=function(){this.$layers=this.$context.find(".layer"),this.depths=[],this.$layers.css({position:"absolute",display:"block",left:0,top:0}),this.$layers.first().css({position:"relative"}),this.accelerate(this.$layers),this.$layers.each(e.proxy(function(t,n){this.depths.push(e(n).data("depth")||0)},this))},u.prototype.updateDimensions=function(){this.ww=t.innerWidth,this.wh=t.innerHeight,this.wcx=this.ww*this.originX,this.wcy=this.wh*this.originY,this.wrx=Math.max(this.wcx,this.ww-this.wcx),this.wry=Math.max(this.wcy,this.wh-this.wcy)},u.prototype.updateBounds=function(){this.bounds=this.element.getBoundingClientRect(),this.ex=this.bounds.left,this.ey=this.bounds.top,this.ew=this.bounds.width,this.eh=this.bounds.height,this.ecx=this.ew*this.originX,this.ecy=this.eh*this.originY,this.erx=Math.max(this.ecx,this.ew-this.ecx),this.ery=Math.max(this.ecy,this.eh-this.ecy)},u.prototype.queueCalibration=function(e){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,e)},u.prototype.enable=function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=null,t.addEventListener("deviceorientation",this.onDeviceOrientation),setTimeout(this.onOrientationTimer,this.supportDelay)):(this.cx=0,this.cy=0,this.portrait=!1,t.addEventListener("mousemove",this.onMouseMove)),t.addEventListener("resize",this.onWindowResize),this.raf=requestAnimationFrame(this.onAnimationFrame))},u.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.orientationSupport?t.removeEventListener("deviceorientation",this.onDeviceOrientation):t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("resize",this.onWindowResize),cancelAnimationFrame(this.raf))},u.prototype.calibrate=function(e,t){this.calibrateX=e===r?this.calibrateX:e,this.calibrateY=t===r?this.calibrateY:t},u.prototype.invert=function(e,t){this.invertX=e===r?this.invertX:e,this.invertY=t===r?this.invertY:t},u.prototype.friction=function(e,t){this.frictionX=e===r?this.frictionX:e,this.frictionY=t===r?this.frictionY:t},u.prototype.scalar=function(e,t){this.scalarX=e===r?this.scalarX:e,this.scalarY=t===r?this.scalarY:t},u.prototype.limit=function(e,t){this.limitX=e===r?this.limitX:e,this.limitY=t===r?this.limitY:t},u.prototype.origin=function(e,t){this.originX=e===r?this.originX:e,this.originY=t===r?this.originY:t},u.prototype.clamp=function(e,t,n){return e=Math.max(e,t),e=Math.min(e,n),e},u.prototype.css=function(t,n,i){var s=this.propertyCache[n];if(!s)for(var o=0,u=this.vendors.length;o<u;o++){this.vendors[o]!==null?s=e.camelCase(this.vendors[o][1]+"-"+n):s=n;if(t.style[s]!==r){this.propertyCache[n]=s;break}}t.style[s]=i},u.prototype.accelerate=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];this.css(r,"transform","translate3d(0,0,0) rotate(.01deg)"),this.css(r,"transform-style","preserve-3d"),this.css(r,"backface-visibility","hidden")}},u.prototype.setPosition=function(e,t,n){t+="px",n+="px",this.transform3DSupport?this.css(e,"transform","translate3d("+t+","+n+",0) rotate(.01deg)"):this.transform2DSupport?this.css(e,"transform","translate("+t+","+n+")"):(e.style.left=t,e.style.top=n)},u.prototype.onOrientationTimer=function(e){this.orientationSupport&&this.orientationStatus===0&&(this.disable(),this.orientationSupport=!1,this.enable())},u.prototype.onCalibrationTimer=function(e){this.calibrationFlag=!0},u.prototype.onWindowResize=function(e){this.updateDimensions()},u.prototype.onAnimationFrame=function(){this.updateBounds();var e=this.ix-this.cx,t=this.iy-this.cy;(Math.abs(e)>this.calibrationThreshold||Math.abs(t)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.mx=this.calibrateX?t:this.iy,this.my=this.calibrateY?e:this.ix):(this.mx=this.calibrateX?e:this.ix,this.my=this.calibrateY?t:this.iy),this.mx*=this.ew*(this.scalarX/100),this.my*=this.eh*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.mx=this.clamp(this.mx,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.my=this.clamp(this.my,-this.limitY,this.limitY)),this.vx+=(this.mx-this.vx)*this.frictionX,this.vy+=(this.my-this.vy)*this.frictionY;for(var n=0,r=this.$layers.length;n<r;n++){var i=this.depths[n],s=this.$layers[n],o=this.vx*i*(this.invertX?-1:1),u=this.vy*i*(this.invertY?-1:1);this.setPosition(s,o,u)}this.raf=requestAnimationFrame(this.onAnimationFrame)},u.prototype.onDeviceOrientation=function(e){if(!this.desktop&&e.beta!==null&&e.gamma!==null){this.orientationStatus=1;var n=(e.beta||0)/s,r=(e.gamma||0)/s,i=t.innerHeight>t.innerWidth;this.portrait!==i&&(this.portrait=i,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.cx=n,this.cy=r),this.ix=n,this.iy=r}},u.prototype.onMouseMove=function(e){var t=e.clientX,n=e.clientY;!this.orientationSupport&&this.relativeInput?(this.clipRelativeInput&&(t=Math.max(t,this.ex),t=Math.min(t,this.ex+this.ew),n=Math.max(n,this.ey),n=Math.min(n,this.ey+this.eh)),this.ix=(t-this.ex-this.ecx)/this.erx,this.iy=(n-this.ey-this.ecy)/this.ery):(this.ix=(t-this.wcx)/this.wrx,this.iy=(n-this.wcy)/this.wry)};var a={enable:u.prototype.enable,disable:u.prototype.disable,updateLayers:u.prototype.updateLayers,calibrate:u.prototype.calibrate,friction:u.prototype.friction,invert:u.prototype.invert,scalar:u.prototype.scalar,limit:u.prototype.limit,origin:u.prototype.origin};e.fn[i]=function(t){var n=arguments;return this.each(function(){var r=e(this),s=r.data(i);s||(s=new u(this,t),r.data(i,s)),a[t]&&s[t].apply(s,Array.prototype.slice.call(n,1))})}}(window.jQuery||window.Zepto,window,document),n("parallax",["jquery"],function(e){return function(){var t,n;return t||e.parallax}}(this)),n("modules/manage-parallax",["helpers","parallax","metrics"],function(e,t,n){function l(){var e=i.data("parallax-config");e==="hero"||e==="error"?o=window.matchMedia(n.cache.screen_width.min_sm):o=!1}function c(){a?i.parallax("enable"):(i.parallax({relativeInput:!0,clipRelativeInput:!0,scalarX:2,scalarY:1}),a=!0),u=!0}function h(){a&&(i.parallax("disable"),s.css("transform","")),u=!1}function p(){var e=n.cache.scroll_pos,t=n.cache.hero_height;n.cache.scroll_pos>t&&u?h():n.cache.scroll_pos<t&&!u&&c()}function d(){e.manageEvent({event:"scroll",ev_ns:f,callback:function(){p()}})}function v(){n.$c.window.off("scroll."+f)}function m(e){e.matches?(c(),d()):(h(),v())}function g(e){e.matches&&a?i.parallax("origin",0,.4):a&&i.parallax("origin",.5,.5)}function y(){l(),o&&Modernizr.touchevents?(m(o),o.addListener(function(e){m(e)})):(c(),d()),g(r),r.addListener(function(e){g(e)})}var r=window.matchMedia(n.cache.screen_width.min_lg),i=$(".js__parallax"),s=i.find(".layer"),o,u,a,f="parallax_scroll_check";return Modernizr.csstransforms3d&&y(),{enable:c,disable:h}}),n("modules/manage-effects",["helpers","metrics","modules/nav-toggle"],function(e,t,n){function o(e){i.html.addClass(r.base_effects),Modernizr.touchevents?e.matches?i.html.addClass(r.enhanced_effects):i.html.removeClass(r.enhanced_effects):i.html.addClass(r.enhanced_effects).addClass(r.background_effects)}function u(){s.addListener(function(e){o(e)})}function a(){o(s),u()}var r={enhanced_effects:"s__enhanced-effects",background_effects:"s__background-effects",base_effects:"s__base-effects"},i={html:$("html")},s=window.matchMedia(t.cache.screen_width.min_sm);return a(),{}}),e(["config"],function(){e(["polyfill/polyfill","lib/fixActiveState","modernizr","jquery","lib/fastclick"],function(){e(["modules/nav-toggle","modules/doc-loading","modules/manage-parallax","modules/manage-effects"])})}),n("error",function(){}),t(["error"])})();